enum PackageStatus {
  new
  pickup
  intransit
  delivered
  canceled
  archived
}

type Package {
  id: Int!
  user: User!
  from: String!
  to: String!
  sendDate: Date!
  deliveryDate: Date!
  fee: Int!
  comment: String
  contents: String!
  weight: Int!
  images: [File!]
  status: PackageStatus!
}

input PackageInput {
  from: String!
  to: String!
  sendDate: Date!
  deliveryDate: Date!
  fee: Int!
  comment: String
  contents: String!
  weight: Int!
  imageIds: [Int!]!
}

type NewPackageItem {
  package: Package
  incomingOffers: [Courier!]
  outgoingOffers: [Courier!]
}

type NewPackagesResponse {
  list: [NewPackageItem!]!
  total: Int!
}

type ActivePackageItem {
  package: Package
  pickupDate: Date
  intransitDate: Date
  deliveredDate: Date
  canceledDate: Date
}

type ActivePackagesResponse {
  list: [ActivePackageItem!]!
  total: Int!
}

input PackagesFilter {
  from: String!
  to: String!
  date: String!
  maximumWeight: Int
}

input MyPackagesFilter {
  status: PackageStatus!
}

type PackagesResponse {
  list: [Package!]!
  total: Int!
}

type Query {
  myNewPackages: NewPackagesResponse!
  myActivePackages: ActivePackagesResponse!
  packages(filter: PackagesFilter): PackagesResponse!
}

type Mutation {
  createPackage(input: PackageInput!): Package!
  cancelPackage(id: Int!): Boolean!
}
